{"ast":null,"code":"import _classCallCheck from\"/Users/zhengdongqi/N.Nick/react/03.redux\\u5B9E\\u6218/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/zhengdongqi/N.Nick/react/03.redux\\u5B9E\\u6218/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/zhengdongqi/N.Nick/react/03.redux\\u5B9E\\u6218/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/zhengdongqi/N.Nick/react/03.redux\\u5B9E\\u6218/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Component}from'react';// 引入store，用于获取redux中保存状态\nimport store from'../../redux/store';var Count=/*#__PURE__*/function(_Component){_inherits(Count,_Component);var _super=_createSuper(Count);function Count(){var _this;_classCallCheck(this,Count);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={carName:'奔驰c63'};_this.increment=function(){var value=_this.selectNumber.value;store.dispatch({type:'increment',data:value*1});};_this.decrement=function(){var value=_this.selectNumber.value;store.dispatch({type:'decrement',data:value*1});};_this.incrementIfOdd=function(){var value=_this.selectNumber.value;var count=store.getState();if(count%2!==0){store.dispatch({type:'increment',data:value*1});}};_this.incrementAsync=function(){var value=_this.selectNumber.value;setTimeout(function(){store.dispatch({type:'increment',data:value*1});},500);};return _this;}_createClass(Count,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"\\u5F53\\u524D\\u6C42\\u548C\\u4E3A\\uFF1A\",store.getState()]}),/*#__PURE__*/_jsxs(\"select\",{ref:function ref(c){return _this2.selectNumber=c;},children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"1\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"2\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"3\"})]}),\"\\xA0\",/*#__PURE__*/_jsx(\"button\",{onClick:this.increment,children:\"+\"}),\"\\xA0\",/*#__PURE__*/_jsx(\"button\",{onClick:this.decrement,children:\"-\"}),\"\\xA0\",/*#__PURE__*/_jsx(\"button\",{onClick:this.incrementIfOdd,children:\"\\u5F53\\u524D\\u6C42\\u548C\\u4E3A\\u5947\\u6570\\u518D\\u52A0\"}),\"\\xA0\",/*#__PURE__*/_jsx(\"button\",{onClick:this.incrementAsync,children:\"\\u5F02\\u6B65\\u52A0\"}),\"\\xA0\"]});}}]);return Count;}(Component);export{Count as default};","map":{"version":3,"sources":["/Users/zhengdongqi/N.Nick/react/03.redux实战/src/components/Count/index.jsx"],"names":["React","Component","store","Count","state","carName","increment","value","selectNumber","dispatch","type","data","decrement","incrementIfOdd","count","getState","incrementAsync","setTimeout","c"],"mappings":"ovBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA;AACA,MAAOC,CAAAA,KAAP,KAAkB,mBAAlB,C,GAEqBC,CAAAA,K,uTAEpBC,K,CAAQ,CAACC,OAAO,CAAC,OAAT,C,OAURC,S,CAAY,UAAM,IACVC,CAAAA,KADU,CACD,MAAKC,YADJ,CACVD,KADU,CAEjBL,KAAK,CAACO,QAAN,CAAe,CAACC,IAAI,CAAC,WAAN,CAAkBC,IAAI,CAACJ,KAAK,CAAC,CAA7B,CAAf,EACA,C,OAEDK,S,CAAY,UAAM,IACVL,CAAAA,KADU,CACD,MAAKC,YADJ,CACVD,KADU,CAEjBL,KAAK,CAACO,QAAN,CAAe,CAACC,IAAI,CAAC,WAAN,CAAkBC,IAAI,CAACJ,KAAK,CAAC,CAA7B,CAAf,EACA,C,OAEDM,c,CAAiB,UAAM,IACfN,CAAAA,KADe,CACN,MAAKC,YADC,CACfD,KADe,CAEtB,GAAMO,CAAAA,KAAK,CAAGZ,KAAK,CAACa,QAAN,EAAd,CACA,GAAID,KAAK,CAAG,CAAR,GAAc,CAAlB,CAAqB,CACpBZ,KAAK,CAACO,QAAN,CAAe,CAACC,IAAI,CAAC,WAAN,CAAkBC,IAAI,CAACJ,KAAK,CAAC,CAA7B,CAAf,EACA,CACD,C,OAEDS,c,CAAiB,UAAM,IACfT,CAAAA,KADe,CACN,MAAKC,YADC,CACfD,KADe,CAEtBU,UAAU,CAAC,UAAM,CAChBf,KAAK,CAACO,QAAN,CAAe,CAACC,IAAI,CAAC,WAAN,CAAkBC,IAAI,CAACJ,KAAK,CAAC,CAA7B,CAAf,EACA,CAFS,CAER,GAFQ,CAAV,CAGA,C,wEAEQ,iBACR,mBACC,oCACC,6DAAWL,KAAK,CAACa,QAAN,EAAX,GADD,cAEC,gBAAQ,GAAG,CAAE,aAAAG,CAAC,QAAI,CAAA,MAAI,CAACV,YAAL,CAAoBU,CAAxB,EAAd,wBACC,eAAQ,KAAK,CAAC,GAAd,eADD,cAEC,eAAQ,KAAK,CAAC,GAAd,eAFD,cAGC,eAAQ,KAAK,CAAC,GAAd,eAHD,GAFD,qBAOC,eAAQ,OAAO,CAAE,KAAKZ,SAAtB,eAPD,qBAQC,eAAQ,OAAO,CAAE,KAAKM,SAAtB,eARD,qBASC,eAAQ,OAAO,CAAE,KAAKC,cAAtB,oEATD,qBAUC,eAAQ,OAAO,CAAE,KAAKG,cAAtB,gCAVD,UADD,CAcA,C,mBApDiCf,S,SAAdE,K","sourcesContent":["import React, { Component } from 'react'\r\n// 引入store，用于获取redux中保存状态\r\nimport store from '../../redux/store'\r\n\r\nexport default class Count extends Component {\r\n\r\n\tstate = {carName:'奔驰c63'}\r\n\r\n\t/* componentDidMount(){\r\n\t\t//检测redux中状态的变化，只要变化，就调用render\r\n\t\tstore.subscribe(()=>{\r\n\t\t\tthis.setState({})\r\n\t\t})\r\n\t} */\r\n\r\n\t// 加法\r\n\tincrement = () => {\r\n\t\tconst {value} = this.selectNumber\r\n\t\tstore.dispatch({type:'increment',data:value*1})\r\n\t}\r\n\t// 减法\r\n\tdecrement = () => {\r\n\t\tconst {value} = this.selectNumber\r\n\t\tstore.dispatch({type:'decrement',data:value*1})\r\n\t}\r\n\t// 奇数再加\r\n\tincrementIfOdd = () => {\r\n\t\tconst {value} = this.selectNumber\r\n\t\tconst count = store.getState()\r\n\t\tif (count % 2 !== 0) {\r\n\t\t\tstore.dispatch({type:'increment',data:value*1})\r\n\t\t}\r\n\t}\r\n\t// 异步加\r\n\tincrementAsync = () => {\r\n\t\tconst {value} = this.selectNumber\r\n\t\tsetTimeout(() => {\r\n\t\t\tstore.dispatch({type:'increment',data:value*1})\r\n\t\t},500)\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h1>当前求和为：{store.getState()}</h1>\r\n\t\t\t\t<select ref={c => this.selectNumber = c}>\r\n\t\t\t\t\t<option value=\"1\">1</option>\r\n\t\t\t\t\t<option value=\"2\">2</option>\r\n\t\t\t\t\t<option value=\"3\">3</option>\r\n\t\t\t\t</select>&nbsp;\r\n\t\t\t\t<button onClick={this.increment}>+</button>&nbsp;\r\n\t\t\t\t<button onClick={this.decrement}>-</button>&nbsp;\r\n\t\t\t\t<button onClick={this.incrementIfOdd}>当前求和为奇数再加</button>&nbsp;\r\n\t\t\t\t<button onClick={this.incrementAsync}>异步加</button>&nbsp;\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n"]},"metadata":{},"sourceType":"module"}